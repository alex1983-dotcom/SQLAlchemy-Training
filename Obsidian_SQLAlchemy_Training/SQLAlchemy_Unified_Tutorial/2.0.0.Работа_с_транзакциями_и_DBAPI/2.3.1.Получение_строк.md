### üìå –ü–æ–ª—É—á–µ–Ω–∏–µ —Å—Ç—Ä–æ–∫ –≤ SQLAlchemy 2.0

#### üîë –û—Å–Ω–æ–≤–Ω–æ–π –ø—Ä–∏–Ω—Ü–∏–ø
`Result` ‚Äî –∏—Ç–µ—Ä–∏—Ä—É–µ–º—ã–π –æ–±—ä–µ–∫—Ç, –≤–æ–∑–≤—Ä–∞—â–∞–µ–º—ã–π `conn.execute()` / `session.execute()`. –°–æ–¥–µ—Ä–∂–∏—Ç —Å—Ç—Ä–æ–∫–∏ –∫–∞–∫ `Row` (named tuple-–ø–æ–¥–æ–±–Ω—ã–µ –æ–±—ä–µ–∫—Ç—ã).

#### ‚öôÔ∏è –°–ø–æ—Å–æ–±—ã –∏–∑–≤–ª–µ—á–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö

| –ú–µ—Ç–æ–¥ / –ø–æ–¥—Ö–æ–¥ | –ß—Ç–æ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç | –ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å |
|----------------|----------------|---------------------|
| `for row in result` | –ò—Ç–µ—Ä–∞—Ü–∏—è –ø–æ `Row` | –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π —Å–ø–æ—Å–æ–±, –ª–µ–Ω–∏–≤–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ |
| `.all()` | `list[Row]` | –ö–æ–≥–¥–∞ –Ω—É–∂–Ω—ã –≤—Å–µ —Å—Ç—Ä–æ–∫–∏ —Å—Ä–∞–∑—É |
| `.fetchone()` | `Row \| None` | –û–¥–Ω–∞ —Å—Ç—Ä–æ–∫–∞ (—É—Å—Ç–∞—Ä–µ–≤—à–∏–π —Å—Ç–∏–ª—å, –ª—É—á—à–µ –∏—Ç–µ—Ä–∞—Ü–∏—è) |
| `.fetchmany(n)` | `list[Row]` | –ü–∞–∫–µ—Ç–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ (n —Å—Ç—Ä–æ–∫) |
| `.mappings()` | `MappingResult` ‚Üí `RowMapping` (dict-–ø–æ–¥–æ–±–Ω—ã–π) | –ö–æ–≥–¥–∞ –Ω—É–∂–µ–Ω –¥–æ—Å—Ç—É–ø —á–µ—Ä–µ–∑ –∫–ª—é—á–∏: `row["x"]` |

#### üß© –î–æ—Å—Ç—É–ø –∫ –¥–∞–Ω–Ω—ã–º –≤ `Row`

```python
# 1. –†–∞—Å–ø–∞–∫–æ–≤–∫–∞ (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
for x, y in result:
    print(x, y)

# 2. –ê—Ç—Ä–∏–±—É—Ç—ã (named tuple)
for row in result:
    print(row.x, row.y)

# 3. –ò–Ω–¥–µ–∫—Å—ã
for row in result:
    print(row[0], row[1])

# 4. –°–ª–æ–≤–∞—Ä—å —á–µ—Ä–µ–∑ .mappings()
for row in result.mappings():
    print(row["x"], row["y"])
```

#### ‚öñÔ∏è –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å Django ORM

| –ö—Ä–∏—Ç–µ—Ä–∏–π | SQLAlchemy 2.0 | Django ORM |
|----------|----------------|------------|
| –¢–∏–ø —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ | `Result` ‚Üí `Row` / `RowMapping` | `QuerySet` ‚Üí –º–æ–¥–µ–ª—å–Ω—ã–µ –æ–±—ä–µ–∫—Ç—ã |
| –õ–µ–Ω–∏–≤–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ | –î–∞ (–∏—Ç–µ—Ä–∞—Ü–∏—è –ø–æ `Result`) | –î–∞ (–∏—Ç–µ—Ä–∞—Ü–∏—è –ø–æ `QuerySet`) |
| –î–æ—Å—Ç—É–ø –∫ –ø–æ–ª—è–º | `row.x` –∏–ª–∏ `row["x"]` (—á–µ—Ä–µ–∑ `.mappings()`) | `obj.field` |
| –ü–æ–ª—É—á–µ–Ω–∏–µ –≤—Å–µ—Ö —Å—Ç—Ä–æ–∫ | `.all()` ‚Üí —Å–ø–∏—Å–æ–∫ | `.all()` ‚Üí `QuerySet` (–ª–µ–Ω–∏–≤—ã–π) |
| –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è | –ß–µ—Ä–µ–∑ —Ç–µ–∫—Å—Ç–æ–≤—ã–π SQL –∏–ª–∏ Core/ORM –≤—ã—Ä–∞–∂–µ–Ω–∏—è | `.filter(field=value)` |
| –ü–æ–¥—Ö–æ–¥ | Data Mapper (–æ—Ç–¥–µ–ª–µ–Ω–∏–µ –º–æ–¥–µ–ª–∏ –æ—Ç –ë–î) | Active Record (–º–æ–¥–µ–ª—å = —Ç–∞–±–ª–∏—Ü–∞) |

#### ‚ö†Ô∏è –¢–∏–ø–∏—á–Ω—ã–µ –æ—à–∏–±–∫–∏

| ‚ùå –û—à–∏–±–∫–∞ | ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ |
|-----------|----------------|
| –í—ã–∑–æ–≤ `.fetchone()` –ø–æ—Å–ª–µ –∏—Ç–µ—Ä–∞—Ü–∏–∏ –ø–æ `result` | –ò—Ç–µ—Ä–∞—Ü–∏—è **–∏—Å—á–µ—Ä–ø—ã–≤–∞–µ—Ç** `Result`. –°–æ—Ö—Ä–∞–Ω—è–π—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç: `rows = result.all()` |
| –û–∂–∏–¥–∞–Ω–∏–µ `dict` –∏–∑ –æ–±—ã—á–Ω–æ–≥–æ `Row` | –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `.mappings()`: `result.mappings().all()` |
| –î–æ–ª–≥–∞—è —Ä–∞–±–æ—Ç–∞ —Å –±–æ–ª—å—à–∏–º `Result.all()` | –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∏—Ç–µ—Ä–∞—Ü–∏—é –∏–ª–∏ `.fetchmany(batch_size)` –¥–ª—è –ø–∞–∫–µ—Ç–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏ |
| –î–æ—Å—Ç—É–ø –∫ –∫–æ–ª–æ–Ω–∫–µ –ø–æ –∏–º–µ–Ω–∏ –±–µ–∑ —É—á—ë—Ç–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞ | –ò–º–µ–Ω–∞ –∫–æ–ª–æ–Ω–æ–∫ —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã –∫ —Ä–µ–≥–∏—Å—Ç—Ä—É –ë–î. –õ—É—á—à–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ä–∞—Å–ø–∞–∫–æ–≤–∫—É –∏–ª–∏ `.mappings()` |

#### üí° –ì–ª–∞–≤–Ω–æ–µ
- `Result` ‚Äî –æ–¥–Ω–æ—Ä–∞–∑–æ–≤—ã–π –∏—Ç–µ—Ä–∞—Ç–æ—Ä. –ü–æ—Å–ª–µ –ø—Ä–æ—Ö–æ–¥–∞ –¥–∞–Ω–Ω—ã–µ —Ç–µ—Ä—è—é—Ç—Å—è.
- –î–ª—è —Å–ª–æ–≤–∞—Ä–µ–ø–æ–¥–æ–±–Ω–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞ ‚Äî –≤—Å–µ–≥–¥–∞ `.mappings()`.
- –í —Å–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–º –∫–æ–¥–µ –ø—Ä–µ–¥–ø–æ—á—Ç–∏—Ç–µ–ª—å–Ω–∞ –∏—Ç–µ—Ä–∞—Ü–∏—è (`for row in result`), –∞ –Ω–µ `.fetchone()`/`.fetchall()`.